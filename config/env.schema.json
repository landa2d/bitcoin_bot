{
  "schemaVersion": 1,
  "purpose": "Machine-readable environment requirements for the OpenClaw Bitcoin Agent wrapper project. Used by the security supervisor and documentation.",
  "groups": [
    {
      "id": "core",
      "title": "Core (required to run)",
      "required": ["OPENAI_API_KEY"],
      "optional": ["OPENAI_MODEL", "OPENAI_MAX_TOKENS", "AGENT_NAME", "AGENT_DESCRIPTION", "LOG_LEVEL", "DEBUG_MODE"]
    },
    {
      "id": "telegram",
      "title": "Telegram control (required to control the agent via Telegram)",
      "required": ["TELEGRAM_BOT_TOKEN", "TELEGRAM_OWNER_ID"],
      "optional": []
    },
    {
      "id": "wallet_receive",
      "title": "Lightning wallet (receive-only features)",
      "required": ["LNBITS_URL", "LNBITS_INVOICE_KEY"],
      "optional": ["WALLET_DAILY_LIMIT_SATS", "WALLET_APPROVAL_THRESHOLD_SATS"]
    },
    {
      "id": "wallet_send",
      "title": "Lightning wallet (spending features)",
      "required": ["LNBITS_URL", "LNBITS_ADMIN_KEY"],
      "optional": ["WALLET_DAILY_LIMIT_SATS", "WALLET_APPROVAL_THRESHOLD_SATS"]
    },
    {
      "id": "moltbook",
      "title": "Moltbook integration",
      "required": ["MOLTBOOK_API_TOKEN"],
      "optional": ["MAX_POSTS_PER_HOUR", "MAX_COMMENTS_PER_HOUR", "REQUIRE_POST_APPROVAL", "ENABLE_MODERATION"]
    },
    {
      "id": "safety",
      "title": "Safety / guardrails tuning",
      "required": [],
      "optional": ["MAX_POSTS_PER_HOUR", "MAX_COMMENTS_PER_HOUR", "REQUIRE_POST_APPROVAL", "ENABLE_MODERATION", "WALLET_DAILY_LIMIT_SATS", "WALLET_APPROVAL_THRESHOLD_SATS"]
    },
    {
      "id": "security_supervisor",
      "title": "Security supervisor (optional tuning)",
      "required": [],
      "optional": ["SUPERVISOR_ALLOWED_DOMAINS", "SUPERVISOR_STATUS_INTERVAL_HOURS"]
    }
  ],
  "variables": {
    "OPENAI_API_KEY": {
      "required": true,
      "secret": true,
      "type": "string",
      "description": "OpenAI API key used by OpenClaw to call the LLM."
    },
    "OPENAI_MODEL": {
      "required": false,
      "secret": false,
      "type": "string",
      "default": "gpt-4o",
      "description": "OpenAI model name."
    },
    "OPENAI_MAX_TOKENS": {
      "required": false,
      "secret": false,
      "type": "integer",
      "default": 4096,
      "min": 256,
      "max": 32768,
      "description": "Max tokens per request (cost control)."
    },
    "AGENT_NAME": {
      "required": false,
      "secret": false,
      "type": "string",
      "default": "Gato",
      "description": "Agent display name."
    },
    "AGENT_DESCRIPTION": {
      "required": false,
      "secret": false,
      "type": "string",
      "default": "A Bitcoin maximalist AI agent",
      "description": "Agent description."
    },
    "TELEGRAM_BOT_TOKEN": {
      "required": false,
      "secret": true,
      "type": "string",
      "description": "Telegram bot token from @BotFather."
    },
    "TELEGRAM_OWNER_ID": {
      "required": false,
      "secret": false,
      "type": "string",
      "description": "Telegram numeric user ID allowed to control the agent."
    },
    "LNBITS_URL": {
      "required": false,
      "secret": false,
      "type": "string",
      "default": "https://legend.lnbits.com",
      "description": "LNbits instance URL."
    },
    "LNBITS_ADMIN_KEY": {
      "required": false,
      "secret": true,
      "type": "string",
      "description": "LNbits admin key (can spend money)."
    },
    "LNBITS_INVOICE_KEY": {
      "required": false,
      "secret": true,
      "type": "string",
      "description": "LNbits invoice/read key (balance + invoices)."
    },
    "WALLET_DAILY_LIMIT_SATS": {
      "required": false,
      "secret": false,
      "type": "integer",
      "default": 10000,
      "min": 0,
      "description": "Daily spending limit in satoshis."
    },
    "WALLET_APPROVAL_THRESHOLD_SATS": {
      "required": false,
      "secret": false,
      "type": "integer",
      "default": 1000,
      "min": 0,
      "description": "Payments above this amount require owner approval."
    },
    "MOLTBOOK_API_TOKEN": {
      "required": false,
      "secret": true,
      "type": "string",
      "description": "Moltbook API token used for authenticated actions."
    },
    "MAX_POSTS_PER_HOUR": {
      "required": false,
      "secret": false,
      "type": "integer",
      "default": 5,
      "min": 0,
      "description": "Posting rate limit for Moltbook."
    },
    "MAX_COMMENTS_PER_HOUR": {
      "required": false,
      "secret": false,
      "type": "integer",
      "default": 10,
      "min": 0,
      "description": "Comment rate limit for Moltbook."
    },
    "REQUIRE_POST_APPROVAL": {
      "required": false,
      "secret": false,
      "type": "boolean",
      "default": true,
      "description": "If true, require owner approval before posting."
    },
    "ENABLE_MODERATION": {
      "required": false,
      "secret": false,
      "type": "boolean",
      "default": true,
      "description": "If true, run moderation checks before posting."
    },
    "LOG_LEVEL": {
      "required": false,
      "secret": false,
      "type": "string",
      "default": "info",
      "description": "Logging level (debug/info/warn/error)."
    },
    "DEBUG_MODE": {
      "required": false,
      "secret": false,
      "type": "boolean",
      "default": false,
      "description": "If true, enable verbose logging."
    },
    "SUPERVISOR_ALLOWED_DOMAINS": {
      "required": false,
      "secret": false,
      "type": "string",
      "default": "api.openai.com,moltbook.com,legend.lnbits.com",
      "description": "Comma-separated domain allowlist for outbound HTTP actions. Anything else should require approval."
    },
    "SUPERVISOR_STATUS_INTERVAL_HOURS": {
      "required": false,
      "secret": false,
      "type": "integer",
      "default": 6,
      "min": 1,
      "description": "How often the supervisor emits a status summary."
    }
  }
}

